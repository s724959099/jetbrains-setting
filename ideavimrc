let mapleader=' '

set keep-english-in-normal-and-restore-in-insert
set hlsearch
set incsearch
set ignorecase
set smartcase
set showmode
set number
set relativenumber
set scrolloff=0.1
set history=100000
set clipboard=unnamed
set ideajoin

plug 'https://github.com/tpope/vim-surround'
set surround







" clear the highlighted search result
nnoremap <leader>sc :nohlsearch<cr>

nnoremap <leader>fs :w<cr>
nnoremap <leader>j :action acetargetaction<cr>
nnoremap <leader>tv :action introducevariable<cr>
nnoremap <leader>tf :action introducefield<cr>
nnoremap <leader>tfp :action introducefunctionalparameter<cr>
nnoremap <leader>tc :action introduceconstant<cr>
nnoremap <leader>tem :action extractmethod<cr>
nnoremap <leader>tre :action renameelement<cr>
nnoremap <leader>tmv :action move<cr>


" tab operation
nnoremap <a-h> gT
nnoremap <a-l> gt


nnoremap <c-c> <esc>
" max 客製化
map <s-j> <nop>
set nocompatible
vmap ( <nop>
vmap ) <nop>
nmap ( <nop>
nmap ) <nop>
map ( <nop>
map ) <nop>

map <leader>ew cs



nnoremap <leader>tt :action refactorings.quicklistpopupaction<cr>
nnoremap <leader>tfi :action introducefield<cr>
nnoremap <leader>tva :action introducevariable<cr>
vnoremap <leader>tva :action introducevariable<cr>
nnoremap <leader>tme :action extractmethod<cr>
vnoremap <leader>tme :action extractmethod<cr>
nnoremap <leader>tpa :action introduceparameter<cr>
nnoremap <leader>tsi :action changesignature<cr>
nnoremap <leader>tre :action renameelement<cr>
nnoremap <leader>tsw :action surroundwith<cr>
vnoremap <leader>tsw :action surroundwith<cr>
vnoremap <a-k> :action editorselectword<cr>
nnoremap <a-k> :action editorselectword<cr>
inoremap <a-k> :action editorselectword<cr>
vnoremap <a-j> :action editorunselectword<cr>
nnoremap <a-j> :action editorunselectword<cr>
inoremap <a-j> :action editorunselectword<cr>



vnoremap <tab> > 
nnoremap <tab> >

vnoremap v<s-l> v$
vnoremap v<s-l> v$
nnoremap v<s-h> v^
nnoremap v<s-h> v^



nnoremap d "_d
vnoremap d "_d
nnoremap c "_c
vnoremap c "_c


nnoremap <c-z> :action toggledistractionfreemode<cr>
nnoremap ge :action gotonexterror<cr>
nnoremap ge :action gotopreviouserror<cr>
nnoremap <leader>vfa :action vimfindactionidaction<cr>
nnoremap <leader>ll :action reformatcode<cr>
nnoremap <leader>zz :action vcs.rollbackchangedlines<cr>
nnoremap <leader>es :action editsourceinnewwindow<cr>

" max 客製化 end

nnoremap <leader>a :action gotoaction<cr>
nnoremap gd :action gotodeclaration<cr>
nnoremap gi :action gotoimplementation<cr>
nnoremap sj :action nextsplitter<cr>
nnoremap sk :action prevsplitter<cr>

" project search
nnoremap <leader>se :action searcheverywhere<cr>
nnoremap <leader>pf :action gotofile<cr>

nnoremap fu :action findusages<cr>
nnoremap <leader>fu :action findusages<cr>

" quit normal mode
nnoremap <leader>q  :q<cr>
nnoremap <leader>q  :qa!<cr>

" move half page faster
nnoremap <leader>d  <c-d>
nnoremap <leader>u  <c-u>

" insert mode shortcut
inoremap <c-h> <left>
inoremap <c-j> <down>
inoremap <c-k> <up>
inoremap <c-l> <right>
inoremap <c-a> <home>
inoremap <c-e> <end>
inoremap <c-d> <delete>

" quit insert mode
inoremap jj <esc>
inoremap jk <esc>
inoremap kk <esc>

" quit visual mode
vnoremap v <esc>

" move to the start of line
nnoremap h ^

" move to the end of line
nnoremap l $
" use w + e
"nnoremap w b
"nnoremap e e

" redo
nnoremap u <c-r>

" yank to the end of line
nnoremap y y$

" quit ==> close current window
nnoremap <leader>q <c-w>w

" window operation
nnoremap <leader>ww <c-w>w
nnoremap <leader>wd <c-w>c
nnoremap <leader>wj <c-w>j
nnoremap <leader>wk <c-w>k
nnoremap <leader>wh <c-w>h
nnoremap <leader>wl <c-w>l
nnoremap <leader>ws <c-w>s
nnoremap <leader>w- <c-w>s
nnoremap <leader>wv <c-w>v
nnoremap <leader>w\| <c-w>v
nnoremap <leader>wm :action moveeditortooppositetabgroup<cr>


" ==================================================
" show all the provided actions via `:actionlist`
" ==================================================

" built in search looks better
nnoremap / :action find<cr>
" but preserve ideavim search
nnoremap <leader>/ /

nnoremap <leader>;; :action commentbylinecomment<cr>

nnoremap <leader>bb :action togglelinebreakpoint<cr>
nnoremap <leader>br :action viewbreakpoints<cr>

nnoremap <leader>cv :action changeview<cr>

nnoremap <leader>cd :action choosedebugconfiguration<cr>

nnoremap ga :action gotoaction<cr>
nnoremap gc :action gotoclass<cr>
nnoremap gd :action gotodeclaration<cr>
nnoremap gf :action gotofile<cr>
nnoremap gi :action gotoimplementation<cr>
nnoremap gs :action gotosymbol<cr>

nnoremap <leader>ga :action gotoaction<cr>
nnoremap <leader>gc :action gotoclass<cr>
nnoremap <leader>gd :action gotodeclaration<cr>
nnoremap <leader>gf :action gotofile<cr>
nnoremap <leader>gi :action gotoimplementation<cr>
nnoremap <leader>gs :action gotosymbol<cr>
nnoremap <leader>gt :action gototest<cr>

nnoremap <leader>fp :action showfilepath<cr>

nnoremap <leader>ic :action inspectcode<cr>

nnoremap <leader>mv :action activatemavenprojectstoolwindow<cr>

nnoremap <leader>oi :action optimizeimports<cr>

nnoremap <leader>pm :action showpopupmenu<cr>

"nnoremap <leader>rc :action runtocursor<cr>
"nnoremap <leader>rc :action chooserunconfiguration<cr>
"nnoremap <leader>re :action renameelement<cr>
"nnoremap <leader>rf :action renamefile<cr>

"nnoremap <leader>rr :action rerun<cr>

nnoremap <leader>se :action searcheverywhere<cr>
nnoremap <leader>su :action showusages<cr>
nnoremap <leader>tc :action closeactivetab<cr>
nnoremap <leader>si :action stepinto<cr>

nnoremap <leader>tb :action togglelinebreakpoint<cr>

nnoremap <leader>tl vy<cr>:action activateterminaltoolwindow<cr>
vnoremap <leader>tl y<cr>:action activateterminaltoolwindow<cr>


